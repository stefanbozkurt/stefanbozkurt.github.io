const accordionButtons=document.querySelectorAll(".accordion-button"),accordionContentDisplay=document.getElementById("accordion-content-display");function updateAccordionDisplay(){if(window.innerWidth<=768){document.querySelectorAll(".accordion-tabs-content").forEach((e=>{e.style.display="none"}));const e=accordionContentDisplay.innerHTML.trim();e&&document.querySelectorAll(".accordion-tabs-content").forEach((t=>{t.innerHTML.trim()===e&&(t.style.display="block")}))}else{document.querySelectorAll(".accordion-tabs-content").forEach((e=>{e.style.display="none"}));const e=document.querySelector(".accordion-tabs-content.active");e&&(accordionContentDisplay.innerHTML=e.innerHTML)}}accordionButtons.forEach((e=>{e.addEventListener("click",(function(){const e=this.getAttribute("data-target"),t=document.getElementById(e);window.innerWidth<=768?(document.querySelectorAll(".accordion-tabs-content").forEach((e=>{e.classList.remove("active"),e.style.display="none"})),t.classList.add("active"),t.style.display="block"):(document.querySelectorAll(".accordion-tabs-content").forEach((e=>{e.classList.remove("active"),e.style.display="none"})),t&&(accordionContentDisplay.innerHTML=t.innerHTML))}))})),window.addEventListener("resize",updateAccordionDisplay);const buttons=document.querySelectorAll(".accordion-content-button");buttons.forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.nextElementSibling,n=e.querySelector(".accordion-content-icon"),o="true"===e.getAttribute("aria-expanded");document.querySelectorAll(".accordion-content-collapse").forEach((e=>{e!==t&&(e.classList.remove("show"),e.previousElementSibling.querySelector(".accordion-content-button").setAttribute("aria-expanded","false"),e.previousElementSibling.querySelector(".accordion-content-icon").textContent="+")})),o?(t.classList.remove("show"),e.setAttribute("aria-expanded","false"),n.textContent="+"):(t.classList.add("show"),e.setAttribute("aria-expanded","true"),n.textContent="−")}))}));const menuLink=document.querySelector(".menu-link"),menu=document.getElementById("menu"),bar1=document.querySelector(".bar1"),bar2=document.querySelector(".bar2"),bar3=document.querySelector(".bar3"),settingsToggle=document.getElementById("settings-toggle"),settings=document.getElementById("settings");async function setupSettings(){const e=document.querySelector(".toggle__checkbox"),t=document.body;if(!e)return void console.error("Das Theme-Switch-Element wurde nicht gefunden!");function n(n=!1){(n?"dark"===localStorage.getItem("theme"):e.checked)?(t.classList.add("dark-theme"),e.checked=!0):(t.classList.remove("dark-theme"),e.checked=!1)}n(!0),e.addEventListener("change",(()=>{const t=e.checked?"dark":"light";localStorage.setItem("theme",t),n()}));const o=document.getElementById("increase-font"),s=document.getElementById("decrease-font");if(!o||!s)return void console.error("Ein oder mehrere erforderliche Elemente für die Schriftgröße wurden nicht gefunden!");let c=parseFloat(localStorage.getItem("font-size"))||1;document.documentElement.style.fontSize=`${c}rem`,o.addEventListener("click",(()=>{c<1.75&&(c+=.25,c=Math.min(c,1.75),document.documentElement.style.fontSize=`${c}rem`,localStorage.setItem("font-size",c.toFixed(2)))})),s.addEventListener("click",(()=>{c>.75&&(c-=.25,c=Math.max(c,.75),document.documentElement.style.fontSize=`${c}rem`,localStorage.setItem("font-size",c.toFixed(2)))}));const a=new URL(window.location.href),r=a.searchParams.get("lang")||"de";const i=document.getElementById("language-selector");i&&(i.addEventListener("change",(e=>{const t=e.target.value;var n;"en"===(n=t)&&"en"!==r?(a.searchParams.set("lang","en"),window.location.href=a.toString()):"de"===n&&(a.searchParams.delete("lang"),window.location.href=a.toString())})),i.value=r),"de"===r?document.documentElement.lang="de":"en"===r&&(await async function(e){const t=await async function(e){try{const t=await fetch(`lang/${e}.json`);return await t.json()}catch(t){return console.error(`Fehler beim Laden der Übersetzungsdatei (${e}.json):`,t),{}}}(e);document.querySelectorAll("[data-i18n]").forEach((e=>{const n=e.getAttribute("data-i18n");t[n]&&(e.innerHTML=t[n])}))}("en"),document.documentElement.lang="en")}menu&&menuLink&&settingsToggle&&settings||console.error("Ein oder mehrere erforderliche Elemente wurden nicht gefunden!"),menuLink.addEventListener("click",(e=>{e.preventDefault(),settings.classList.contains("active")&&(settings.classList.remove("active"),settings.style.display="none",settingsToggle.classList.toggle("flipped")),menu.classList.toggle("active"),menuLink.classList.toggle("active"),menu.classList.contains("active")?(menu.style.display="block",bar1.style.transform="rotate(-45deg) translate(-5px, 6px)",bar2.style.opacity="0",bar3.style.transform="rotate(45deg) translate(-8px, -9px)"):(menu.style.display="none",bar1.style.transform="rotate(0deg) translate(0, 0)",bar2.style.opacity="1",bar3.style.transform="rotate(0deg) translate(0, 0)")})),settingsToggle.addEventListener("click",(e=>{e.preventDefault(),menu.classList.contains("active")&&(menu.classList.remove("active"),menuLink.classList.remove("active"),menu.style.display="none",bar1.style.transform="rotate(0deg) translate(0, 0)",bar2.style.opacity="1",bar3.style.transform="rotate(0deg) translate(0, 0)"),settings.classList.toggle("active"),settingsToggle.classList.toggle("flipped"),settings.classList.contains("active")?settings.style.display="block":settings.style.display="none"})),document.addEventListener("click",(e=>{const t=e.target;menu.contains(t)||menuLink.contains(t)||menu.classList.contains("active")&&(menu.classList.remove("active"),menu.style.display="none",menuLink.classList.remove("active"),bar1.style.transform="rotate(0deg) translate(0, 0)",bar2.style.opacity="1",bar3.style.transform="rotate(0deg) translate(0, 0)"),settings.contains(t)||settingsToggle.contains(t)||settings.classList.contains("active")&&(settings.classList.remove("active"),settings.style.display="none",settingsToggle.classList.toggle("flipped"))})),document.querySelectorAll(".toggle-projects").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("data-target"),n=document.getElementById(t);n&&(document.querySelectorAll(".projects-container").forEach((function(e){e!==n&&(e.style.display="none")})),"block"===n.style.display?n.style.display="none":n.style.display="block")}))})),setupSettings();