document.addEventListener("DOMContentLoaded",(async()=>{window.loadTranslations=async function(e){if("de"===e)return{};try{const t=await fetch(`lang/${e}.json`);if(!t.ok)throw new Error(`Fehler beim Laden der Übersetzungsdatei für ${e}`);return await t.json()}catch(e){return console.error(e),{}}}})),document.querySelectorAll(".projects-container").forEach((e=>{const t=e.querySelectorAll(".accordion-button"),n=e.querySelector(".accordion-content-display");t.forEach((o=>{o.addEventListener("click",(function(){const o=this.getAttribute("data-target"),i=e.querySelector(`#${o}`);t.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),window.innerWidth<=768?(e.querySelectorAll(".accordion-tabs-content").forEach((e=>{e.classList.remove("active"),e.style.display="none"})),i.classList.add("active"),i.style.display="block"):(e.querySelectorAll(".accordion-tabs-content").forEach((e=>{e.classList.remove("active"),e.style.display="none"})),i&&(n.innerHTML=i.innerHTML))}))}))})),document.querySelectorAll(".toggle-projects").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById(this.getAttribute("data-target")),n=this.querySelector(".plus-minus"),o=t.querySelector(".accordion-content-display");document.querySelectorAll(".toggle-projects").forEach((e=>{const n=document.getElementById(e.getAttribute("data-target")),o=e.querySelector(".plus-minus");n!==t&&(n.classList.remove("open"),o.textContent="+")})),t.classList.toggle("open"),t.classList.contains("open")?n.textContent="−":n.textContent="+";t.querySelectorAll(".accordion-button").forEach((e=>e.classList.remove("active"))),o&&(o.innerHTML="")}))}));const buttons=document.querySelectorAll(".accordion-content-button");buttons.forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.nextElementSibling,n=e.querySelector(".accordion-content-icon"),o="true"===e.getAttribute("aria-expanded");document.querySelectorAll(".accordion-content-collapse").forEach((e=>{e!==t&&(e.classList.remove("show"),e.previousElementSibling.querySelector(".accordion-content-button").setAttribute("aria-expanded","false"),e.previousElementSibling.querySelector(".accordion-content-icon").textContent="+")})),o?(t.classList.remove("show"),e.setAttribute("aria-expanded","false"),n.textContent="+"):(t.classList.add("show"),e.setAttribute("aria-expanded","true"),n.textContent="−")}))}));const columns=document.querySelectorAll(".col.comp-list"),descriptionContainer=document.querySelector(".description-container");function toggleDescription(){const e=this.classList.contains("active-col");if(columns.forEach((e=>{e.classList.remove("active-col"),e.querySelector(".plus-minus").textContent="+",e.querySelector(".description").style.display="none"})),e)descriptionContainer.style.display="none",descriptionContainer.innerHTML="",this.querySelector(".description").style.display="none";else{this.classList.add("active-col"),this.querySelector(".plus-minus").textContent="−";const e=this.querySelector(".description");if(window.innerWidth>991){descriptionContainer.innerHTML="";const t=e.cloneNode(!0);t.style.display="block",descriptionContainer.appendChild(t),descriptionContainer.style.display="block"}else e.style.display="block",this.appendChild(e),descriptionContainer.style.display="none"}}document.querySelectorAll(".description").forEach((e=>e.style.display="none")),descriptionContainer.style.display="none",columns.forEach((e=>{e.setAttribute("tabindex","0"),e.addEventListener("click",toggleDescription),e.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),toggleDescription.call(this))}))}));const sections=document.querySelectorAll("section"),navLinks=document.querySelectorAll(".navigation-bar a"),navbar=document.querySelector(".navigation-bar");function highlightNav(){let e=window.scrollY+window.innerHeight/3;sections.forEach((t=>{const n=t.offsetTop,o=t.clientHeight,i=t.getAttribute("id");e>=n&&e<n+o&&navLinks.forEach((e=>{e.classList.remove("active"),e.getAttribute("href")===`#${i}`&&e.classList.add("active")}))}))}window.addEventListener("scroll",(()=>{requestAnimationFrame(highlightNav)})),highlightNav();const knowHowSection=document.querySelector("#know-how");if(knowHowSection){const e=knowHowSection.querySelectorAll(".timeline");e.forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();const n=this.querySelector(".description"),o=this.querySelector(".plus-minus");if("none"===n.style.display||""===n.style.display){const e=knowHowSection.querySelectorAll(".description"),t=knowHowSection.querySelectorAll(".plus-minus");e.forEach((e=>e.style.display="none")),t.forEach((e=>e.textContent="+")),n.style.display="block",o.textContent="−",this.classList.add("active")}else n.style.display="none",o.textContent="+",this.classList.remove("active");e.forEach((e=>{e!==this&&(e.querySelector(".description").style.display="none",e.querySelector(".plus-minus").textContent="+",e.classList.remove("active"))}))}))}))}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#main-menu"),t=document.querySelector(".menu-modal"),n=document.querySelector(".modal-content"),o=document.querySelector(".main-navigation"),i=document.querySelector(".brand"),c=document.getElementById("main-menu"),s=document.querySelector(".navigation-bar");function r(){if(window.innerWidth<=991)c.contains(i)||s.insertAdjacentElement("afterbegin",i);else{const e=document.querySelector(".navbar");document.querySelector(".nav__items");e.contains(i)||e.insertAdjacentElement("afterbegin",i)}}function a(){const e=document.querySelector(".navigation-bar");window.innerWidth<=991?(i.style.opacity="1",i.style.transition="none"):e.getBoundingClientRect().top<=294?(i.style.opacity="1",i.style.transition="opacity 0.3s ease-in-out"):i.style.opacity="0"}e&&t&&o&&i&&c&&s?(e.addEventListener("click",(function(n){if(n.preventDefault(),e.classList.toggle("active"),t.classList.toggle("active"),t.classList.contains("active")){if(!t.querySelector(".main-navigation")){const e=o.cloneNode(!0);t.querySelector(".modal-content").appendChild(e)}}else{const e=t.querySelector(".main-navigation");e&&e.remove()}})),document.body.addEventListener("click",(function(o){!t.classList.contains("active")||n.contains(o.target)||e.contains(o.target)||(t.classList.remove("active"),e.classList.remove("active"))})),n.addEventListener("click",(function(n){"a"===n.target.tagName.toLowerCase()&&(t.classList.remove("active"),e.classList.remove("active"))})),window.addEventListener("resize",(function(){t.classList.contains("active")&&(t.classList.remove("active"),e.classList.remove("active"))})),r(),window.addEventListener("resize",r),document.addEventListener("scroll",a),window.addEventListener("resize",a),a()):console.error("Einige Elemente wurden nicht gefunden!")})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("language-selector");function t(){const t=e.querySelectorAll("option");window.innerWidth<=600?(t[0].textContent="DE",t[1].textContent="EN"):(t[0].textContent="Deutsch",t[1].textContent="Englisch")}t(),window.addEventListener("resize",t)})),document.querySelectorAll(".toggle-projects").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("data-target"),n=document.getElementById(t);n&&(document.querySelectorAll(".projects-container").forEach((function(e){e!==n&&(e.style.display="none")})),"block"===n.style.display?n.style.display="none":n.style.display="block")}))})),document.addEventListener("DOMContentLoaded",(async()=>{const e=document.getElementById("language-selector"),t=new URL(window.location.href),n=t.searchParams.get("lang")||"de";e&&(e.value=n,e.addEventListener("change",(e=>{var o;(o=e.target.value)!==n&&(t.searchParams.set("lang","de"===o?"":o),window.location.href=t.toString())}))),"en"===n?(document.documentElement.lang="en",await async function(e){const t=await loadTranslations(e);document.querySelectorAll("[data-i18n]").forEach((e=>{const n=e.getAttribute("data-i18n");t[n]?e.innerHTML=t[n]:console.warn(`Übersetzung fehlt für den Schlüssel: ${n}`)}))}("en")):document.documentElement.lang="de"}));